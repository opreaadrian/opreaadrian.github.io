<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/Blog">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Vim tip: Working with network-mapped folders</title>
  <meta name="keywords" content="workflow, vim, productivity, sshfs, rsync">
  <meta name="author" itemprop="creator" content="Adrian Oprea">
  <meta name="description" itemprop="description" content="Working with mapped network drives in VIM? Me too! I always wondered why go through all this pain?
Because of this, I resorted to Sublime Text for this type of work, as it is very fast in most situations,
but I still dreaded the fact that I could not use Vim, as there have been some situations where I
would have been much more productive and would have gotten to the bottom of the task way quicker if I could have used Vim instead of ST3.
Don’t get me wrong, I find Sublime Text awesome and really fast, and yes, I am aware of its Vintage Mode, but that just
doesn’t cut it for me. I can fake Vim in Sublime, but as far as I know, ST3’s Vintage  doesn’t allow you to create
custom commands/mappings, the way you do in Vim, for example.

">
<meta property="og:type" content="article" />
<meta property="og:title" content="Vim tip: Working with network-mapped folders" />
<meta property="og:description" content="Working with mapped network drives in VIM? Me too! I always wondered why go through all this pain?
Because of this, I resorted to Sublime Text for this type of work, as it is very fast in most situations,
but I still dreaded the fact that I could not use Vim, as there have been some situations where I
would have been much more productive and would have gotten to the bottom of the task way quicker if I could have used Vim instead of ST3.
Don’t get me wrong, I find Sublime Text awesome and really fast, and yes, I am aware of its Vintage Mode, but that just
doesn’t cut it for me. I can fake Vim in Sublime, but as far as I know, ST3’s Vintage  doesn’t allow you to create
custom commands/mappings, the way you do in Vim, for example.

" />
<meta property="og:image" content="https://codesi.nz/images/posts/working_with_network_mapped_folders_in_vim/paper_vim.jpg" />
<meta property="og:url" content="https://codesi.nz/vim-tip-working-with-network-mapped-folders/" />
<meta property="og:locale" content="en_US" />
<meta property="article:published_time" content="2015-06-19T13:00:00+03:00" />
<meta property="article:modified_time" content="2015-06-19T13:00:00+03:00 " />
<link rel="canonical" href="https://codesi.nz/vim-tip-working-with-network-mapped-folders/">

<!-- Twitter Card -->
<meta name="”twitter:creator”" value="">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="https://codesi.nz/vim-tip-working-with-network-mapped-folders/">
<meta name="twitter:title" content="Vim tip: Working with network-mapped folders">
<meta name="twitter:description" content="Working with mapped network drives in VIM? Me too! I always wondered why go through all this pain?
Because of this, I resorted to Sublime Text for this type of work, as it is very fast in most situations,
but I still dreaded the fact that I could not use Vim, as there have been some situations where I
would have been much more productive and would have gotten to the bottom of the task way quicker if I could have used Vim instead of ST3.
Don’t get me wrong, I find Sublime Text awesome and really fast, and yes, I am aware of its Vintage Mode, but that just
doesn’t cut it for me. I can fake Vim in Sublime, but as far as I know, ST3’s Vintage  doesn’t allow you to create
custom commands/mappings, the way you do in Vim, for example.

">
<meta name="twitter:image" content="https://codesi.nz/images/posts/working_with_network_mapped_folders_in_vim/paper_vim.jpg">

  

  <link type="application/atom+xml" rel="alternate" href="https://codesi.nz/feed.xml" title="codesins. - The blog of Adrian Oprea, freelance web developer." />

  
    <link rel="author" href="https://plus.google.com/+AdrianOpreasWeb/">
    <link rel="publisher" href="https://plus.google.com/+AdrianOpreasWeb/">
  


  <!-- syntax highlighting CSS -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/4.0.0/normalize.min.css">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,700,400italic,600,600italic,700italic,800,800italic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Lato:100,300,900' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/stylesheets/screen.css">

  <script>
  var host = "codesi.nz";
  if ((host == window.location.host) && (window.location.protocol != "https:")) {
    window.location.protocol = "https";
  }
</script>


</head>
<body>

  <div class="header">
  <div role="branding" class="branding">
    <h1><a href="/" title="Go back to the homepage">codesins.</a></h1>
  </div>

  <div class="navigation">
    <nav role="navigation">
      <ul>
        <li ><a title="Navigate to the blog" href="/">Blog</a></li>
        <li ><a title="Find out more about me" href="/about">About</a></li>
        <li ><a title="Go to the contact page" href="/contact">Contact</a></li>
      </ul>
    </nav>
  </div>
</div>

  <article class="article-full" itemprop="blogPosts" itemscope itemtype="https://schema.org/BlogPosting">
  <meta itemprop="datePublished" content="2015-06-19T13:00:00+03:00">
  <meta itemprop="dateModified" content="2015-06-19T13:00:00+03:00">
  <meta itemprop="keywords" content="workflow, vim, productivity, sshfs, rsync">
  <meta itemprop="author" content="Adrian Oprea">
  
    <meta itemprop="inLanguage" content="en_US">
  

  <!-- DIVERSITY IS KEY -->
  <span itemprop="audience" itemscope itemtype="http://schema.org/PeopleAudience">
      <meta itemprop="gender" content="any">
  </span>
  <header class="article-header">
    <h1 class="article-header__heading" itemprop="headline">Vim tip: Working with network-mapped folders</h1>
    <div class="article-info article-info--delimited">
  <div class="article-info-inner">
    <a class="article-info__author-profile" href="/about" title="About the author: Adrian Oprea">
      <img class="article-info__author-image" src="/images/assets/adrian_oprea.png" alt="Author image: Adrian Oprea">
    </a>
    <p>
    Adrian Oprea on <time itemProp="datePublished" datetime="2015-06-19T13:00:00+03:00">19 Jun 2015</time><br>
     
    Published in 
    <span class="categories-list">
      
      <span class="categories-list-item">productivity</span>
      
    </span>
    
    </p>
  </div>
</div>

  </header>

  <main class="article-body" itemprop="articleBody">
    <p>Working with mapped network drives in VIM? Me too! I always wondered why go through all this pain?<br />
Because of this, I resorted to Sublime Text for this type of work, as it is very fast in most situations,
but I still dreaded the fact that I could not use Vim, as there have been some situations where I
would have been much more productive and would have gotten to the bottom of the task way quicker if I could have used Vim instead of ST3.<br />
Don’t get me wrong, I find Sublime Text awesome and really fast, and yes, I am aware of its Vintage Mode, but that just
doesn’t cut it for me. I can fake Vim in Sublime, but as far as I know, ST3’s Vintage  doesn’t allow you to create
custom commands/mappings, the way you do in Vim, for example.</p>

<p>Back on track with the Vim part, I have been living with this pain for quite some time,
until 3 days ago when I realised that I wasn’t able to see the trees because of the forest.
I thought about all possible solutions, <code class="highlighter-rouge">scp</code> being the most reliable of them all.<br />
To clarify, I had no problem creating a bash function that would use <code class="highlighter-rouge">scp</code> to upload everything to the remote server, which I actually did it.
The only problem was that it would re-upload all the files and I didn’t want that.
Knowing this, I would rely on a trick I presented in
<a href="https://codesi.nz/short-tip-viewing-and-resolving-svn-conflicts-in-the-terminal/">Short tip: viewing and resolving svn conflicts in the terminal</a>, 
namely, I would take the filenames from <code class="highlighter-rouge">svn status</code>, and upload them one by one — talk about thinking like a programmer. The result is in the snippet below.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">function </span>scpsync<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">changed_files</span><span class="o">=</span><span class="k">$(</span>svn status | awk <span class="s1">'{print $2}'</span><span class="k">)</span>
    <span class="nb">echo</span> <span class="s2">"Syncing </span><span class="nv">$changed_files</span><span class="se">\n</span><span class="s2">"</span>
    <span class="k">for </span>file <span class="k">in</span> <span class="nv">$changed_files</span>; <span class="k">do
        </span>scp <span class="nv">$file</span> goprea@<span class="nv">$1</span>:/<span class="nv">$2</span>/<span class="nv">$file</span>
    <span class="k">done
    </span><span class="nb">echo</span> <span class="s2">"Sync done</span><span class="se">\n</span><span class="s2">"</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Now, everything looked fine but I started hating it when I read the code out loud.
I had a function that would upload all my SVN modified files…every damn time!
This meant that if I would commit once a day(SVN users know what I’m talking about),
I would upload every modified file, every time, even if I only changed the code ONCE, for some files.<br />
This is the part where the over-engineer in me felt like a million bucks.
I have created something that repeats a task even when it is not needed. Although it was ugly as hell,
it was useful to me so I had to brag about it, but there was still a little voice in the back of my head,
telling me that I once used a tool that would sync with the server through <code class="highlighter-rouge">ssh</code>, in a flawless manner.<br />
That’s why I went to my co-worker <a href="https://github.com/pennycoders">Alex Pica</a>, as he has the eye of a critic and will argue with me over anything.
After letting me brag about my absolutely marvellous function, he went something along the lines of: “Well, why don’t you use <a href="https://en.wikipedia.org/wiki/Rsync">rsync</a>?”.<br />
At that moment I had the epiphany! That was the tool that I used in the past and does all the neat stuff I told you before, and more.<br />
I’m writing this article to both share the solution with the Vim users going through the same pain I went to, and to thank Alex for being a walking encyclopedia.<br />
The solution is outlined below, and it can be used directly from within Vim by issuing the following command in the Vim command line — <code class="highlighter-rouge">:!syncremote . user@ip:/remote/path</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>syncremote <span class="o">()</span> <span class="o">{</span>
  rsync -WavP --human-readable --progress <span class="nv">$1</span> <span class="nv">$2</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Cheers, and happy hacking!</p>

<blockquote>
  <p>Image credits: Me</p>
</blockquote>

  </main>

  <footer class="article-footer">
    <section>
	<h3>Spread the word</h3>
	<span class='st_facebook_large' displayText='Facebook'></span>
	<span class='st_twitter_large' displayText='Tweet'></span>
	<span class='st_linkedin_large' displayText='LinkedIn'></span>
	<span class='st_email_large' displayText='Email'></span>
	<span class='st_reddit_large' displayText='Reddit'></span>
	<span class='st_googleplus_large' displayText='Google +'></span>
	<span class='st_pinterest_large' displayText='Pinterest'></span>
</section>
    <div class="pagination" role="navigation">
  
  <a href="/I-hate-full-stack/" title="Previous article: Vim tip: Working with network-mapped folders" role="prev">&larr; I hate full stack! Period!</a>
  
  
  <a href="/a-different-look-at-nodejs-application-architecture/" title="Next article: Vim tip: Working with network-mapped folders" role="next">A different look at Node.js application architecture &rarr;</a>
  
</div>

    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'codesinz'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  </footer>
</article>

  <!-- <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32468134-4', 'auto');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>
 -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  <script type="text/javascript">var switchTo5x=true;</script>
  <script type="text/javascript" src="//ws.sharethis.com/button/buttons.js"></script>
  <script type="text/javascript">stLight.options({publisher: "92204b4b-884e-4a7f-9337-a39d86c8b368", doNotHash: true, doNotCopy: false, hashAddressBar: true, shorten: false});</script>
</body>
</html>

