<!DOCTYPE html><html lang="en" itemscope itemtype="https://schema.org/Blog"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Using ES6 arrow functions in production-ready apps</title><meta name="keywords" content="javascript, es6, ecmascript, ecmascript 6, arrow functions, functions, production, apps, callbacks"><meta name="author" itemprop="creator" content="Adrian Oprea"><meta name="description" itemprop="description" content="If you are just getting started with ES6, you might have heard about “fat arrow functions”. They are a great addition to the ECMAScript 6 standard and their origin is probably the CoffeeScript function declaration. You can think of them as throwaway functions that a you can attach to a click or mouse event. There are a couple of ways to use arrow functions and we are going to go over each one in turn. "><meta property="og:type" content="article" /><meta property="og:title" content="Using ES6 arrow functions in production-ready apps" /><meta property="og:description" content="If you are just getting started with ES6, you might have heard about “fat arrow functions”. They are a great addition to the ECMAScript 6 standard and their origin is probably the CoffeeScript function declaration. You can think of them as throwaway functions that a you can attach to a click or mouse event. There are a couple of ways to use arrow functions and we are going to go over each one in turn. " /><meta property="og:image" content="https://codesi.nz/images/posts/using-es6-arrown-functions-in-production-ready-apps/post.jpg" /><meta property="og:url" content="https://codesi.nz/es6-arrow-functions-production/" /><meta property="og:locale" content="en_US" /><meta property="article:published_time" content="2016-09-05T20:00:00+02:00" /><meta property="article:modified_time" content="2016-09-05T20:00:00+02:00 " /><link rel="canonical" href="https://codesi.nz/es6-arrow-functions-production/"><meta name="”twitter:creator”" value=""><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="https://codesi.nz/es6-arrow-functions-production/"><meta name="twitter:title" content="Using ES6 arrow functions in production-ready apps"><meta name="twitter:description" content="If you are just getting started with ES6, you might have heard about “fat arrow functions”. They are a great addition to the ECMAScript 6 standard and their origin is probably the CoffeeScript function declaration. You can think of them as throwaway functions that a you can attach to a click or mouse event. There are a couple of ways to use arrow functions and we are going to go over each one in turn. "><meta name="twitter:image" content="https://codesi.nz/images/posts/using-es6-arrown-functions-in-production-ready-apps/post.jpg"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="codesins. - The blog of Adrian Oprea, freelance web developer."><link rel="author" href="https://plus.google.com/+AdrianOpreasWeb/"><link rel="publisher" href="https://plus.google.com/+AdrianOpreasWeb/"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/4.0.0/normalize.min.css"><link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,700,400italic,600,600italic,700italic,800,800italic' rel='stylesheet' type='text/css'><link href='https://fonts.googleapis.com/css?family=Lato:100,300,900' rel='stylesheet' type='text/css'><link rel="stylesheet" href="/stylesheets/screen.css"><link rel="stylesheet" href="/stylesheets/monokai.css"> <script> var host = "codesi.nz"; if ((host == window.location.host) && (window.location.protocol != "https:")) { window.location.protocol = "https"; } </script><body><div class="header"><div role="branding" class="branding"><h1><a href="/" title="Go back to the homepage">codesins.</a></h1></div><div class="navigation"><nav role="navigation"><ul><li class="active" ><a title="Navigate to the blog" href="/">Blog</a><li ><a title="Find out more about me" href="/about/">Who am I</a><li ><a title="Go to the contact page" href="/contact/">Let's chat</a></ul></nav></div></div><article class="article-full" itemprop="blogPosts" itemscope itemtype="https://schema.org/BlogPosting"><meta itemprop="datePublished" content="2016-09-05T20:00:00+02:00"><meta itemprop="dateModified" content="2016-09-05T20:00:00+02:00"><meta itemprop="keywords" content="javascript, es6, ecmascript, ecmascript 6, arrow functions, functions, production, apps, callbacks"><meta itemprop="author" content="Adrian Oprea"><meta itemprop="inLanguage" content="en_US"> <span itemprop="audience" itemscope itemtype="http://schema.org/PeopleAudience"><meta itemprop="gender" content="any"> </span><header class="article-header"><h1 class="article-header__heading article-header__heading--center article-header__heading--white" itemprop="headline">Using ES6 arrow functions in production-ready apps</h1><div class="article-info article-info--delimited"><div class="article-info-inner"> <a class="article-info__author-profile" href="/about" title="About the author: Adrian Oprea"> <img class="article-info__author-image" src="/images/assets/adrian_oprea.png" alt="Author image: Adrian Oprea"> </a><p> Adrian Oprea on <time itemProp="datePublished" datetime="2016-09-05T20:00:00+02:00">05 Sep 2016</time><br> Published in <span class="categories-list"> <span class="categories-list-item">javascript</span> </span></div></div></header><main class="article-body" itemprop="articleBody"><p>If you are just getting started with ES6, you might have heard about “fat arrow functions”. They are a great addition to the ECMAScript 6 standard and their origin is probably the CoffeeScript function declaration. You can think of them as throwaway functions that a you can attach to a click or mouse event.<br /> There are a couple of ways to use arrow functions and we are going to go over each one in turn.<h2 class="no_toc" id="table-of-contents">Table of contents</h2><ul id="markdown-toc"><li><a href="#anonymous-callbacks" id="markdown-toc-anonymous-callbacks">Anonymous callbacks</a><li><a href="#function-expressions" id="markdown-toc-function-expressions">Function expressions</a><li><a href="#returning-data" id="markdown-toc-returning-data">Returning data</a><ul><li><a href="#using-the-return-keyword" id="markdown-toc-using-the-return-keyword">Using the <code class="highlighter-rouge">return</code> keyword</a><li><a href="#using-the-implicit-return" id="markdown-toc-using-the-implicit-return">Using the implicit <code class="highlighter-rouge">return</code></a></ul></ul><h2 id="anonymous-callbacks">Anonymous callbacks</h2><p>The first and most intuitive use for an arrow function would be as an anonymous callback. You can attach an arrow function to a button’s click event as but you can also pass it as a callback to <a href="#mdn_link"><code class="highlighter-rouge">Array.prototype.map</code></a>.<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">// click.js</span>
<span class="kr">const</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'button'</span><span class="p">);</span>

<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'clicked'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><p>Every time we click the button identified by the <code class="highlighter-rouge">btn</code> variable, we are going to log the message “clicked”. Nothing too fancy, just an anonymous function responding to an event.<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">// map.js</span>
<span class="kd">let</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">];</span>
<span class="kd">let</span> <span class="nx">multipliedBy2</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">number</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">});</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">multipliedBy2</span><span class="p">);</span> <span class="c1">// [2, 4, 6, 8]</span>
</code></pre></div><p>As I mentioned in my <a href="/es6-arrow-functions-in-depth/#implicit-return" title="Link to article section" target="blank">ES6 arrow functions in depth</a> article, the arrow function implicitly returns the result of executing its logic, if it has a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions#Function_body" title="More info on arrow functions concise body">concise body / block body</a>.<br /> This feature makes the arrow function an ideal callback for <code class="highlighter-rouge">Array</code> operations that return new arrays, like <code class="highlighter-rouge">map</code> and <code class="highlighter-rouge">filter</code>.<p>With this in mind, let’s simplify our <code class="highlighter-rouge">map</code> example.<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
<span class="kr">const</span> <span class="nx">multipliedBy2</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">n</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">n</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>

<span class="c1">// or without the parens around the argument</span>
<span class="kr">const</span> <span class="nx">multipliedBy2WithShorterCallback</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">n</span> <span class="o">=&gt;</span> <span class="nx">n</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
</code></pre></div><h2 id="function-expressions">Function expressions</h2><p>The function expression form of the arrow function is very popular in the React.js community. This is mostly due to its concise semantics. One of the people making extensive use of this feature in their examples and tutorials is Dan Abramov, the author of Redux.<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="p">[],</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="na">ADD_TODO</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[..</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">.</span><span class="nx">text</span><span class="p">];</span>
    <span class="nl">default</span><span class="p">:</span>
        <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>This allows you to call your otherwise anonymous arrow function wherever you need it, by using the <code class="highlighter-rouge">todos</code> identifier. Just be careful that the hoisting for function expressions is different from the regular function. While the function is hoisted with all its body, to the top of the scope, function expressions are treated as regular variables, and only the <code class="highlighter-rouge">todos</code> identifier will be hoisted to the top of the scope but without the function body. This is why you cannot call functions defined using function expressions, before the site where they are assigned to the identifier in the code.<h2 id="returning-data">Returning data</h2><p>If you take a look at the <code class="highlighter-rouge">map</code> example, you can tell from afar that it is very easy to return data from an arrow function.<h3 id="using-the-return-keyword">Using the <code class="highlighter-rouge">return</code> keyword</h3><p>As with any other function, you can return data from an arrow function using the <code class="highlighter-rouge">return</code> keyword.<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">multiply</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">multiplyBy3</span> <span class="o">=</span> <span class="nx">multiply</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nx">multiplyBy3</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="c1">// 6</span>
<span class="nx">multiplyBy3</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// 9</span>
</code></pre></div><h3 id="using-the-implicit-return">Using the implicit <code class="highlighter-rouge">return</code></h3><p>Let’s rewrite our example to use the implicit return feature of arrow functions.<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">multiply</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">multiplyBy3</span> <span class="o">=</span> <span class="nx">multiply</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nx">multiplyBy3</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="c1">// 6</span>
<span class="nx">multiplyBy3</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// 9</span>
</code></pre></div><p>If you need to return objects from an arrow functions, there’s a catch. You cannot use the curly braces directly as that would throw an error.<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">getInitialData</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'Jane Doe'</span>
<span class="p">};</span>

<span class="c1">// This will throw an error</span>
<span class="kd">let</span> <span class="nx">initialData</span> <span class="o">=</span> <span class="nx">getInitialData</span><span class="p">();</span>
</code></pre></div><p>The JavaScript engine expects the object’s curly braces to be a block of code. Instead it finds identifiers, colons and commas and it doesn’t quite know what to do with them.<p>To work around this, all you need to do is to surround your whole object in parenthesis. This will not throw an error and your code will work as expected and also look good in the process.<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">// This is perfectly valid</span>
<span class="kr">const</span> <span class="nx">initialData</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'Jane Doe'</span>
<span class="p">});</span>

<span class="kd">let</span> <span class="nx">initialData</span> <span class="o">=</span> <span class="nx">getInitialData</span><span class="p">();</span>
</code></pre></div><p>With this last part, we wrapped up all known usages of arrow functions in real-life, production apps. For more, in-depth knowledge on the subject, refer to my <a href="/es6-arrow-functions-in-depth" title="Link to article" target="blank">ES6 arrow functions in depth</a> article, where I talk more about the internals of the arrow function.<blockquote><p>Photo credits: <a href="https://www.flickr.com/photos/pasukaru76/">Pascal</a> — <a href="https://flic.kr/p/bvcbis">Killbot Assembly Line</a></blockquote></main><footer class="article-footer"><section><h3>Spread the word</h3><span class='st_facebook_large' displayText='Facebook'></span> <span class='st_twitter_large' displayText='Tweet'></span> <span class='st_linkedin_large' displayText='LinkedIn'></span> <span class='st_email_large' displayText='Email'></span> <span class='st_reddit_large' displayText='Reddit'></span> <span class='st_googleplus_large' displayText='Google +'></span> <span class='st_pinterest_large' displayText='Pinterest'></span></section><div class="pagination" role="navigation"> <a href="/the-fly-theory-of-helpfulness/" title="Previous article: Using ES6 arrow functions in production-ready apps" role="prev">&larr; The fly theory of helpfulness</a> <a href="/top-5-things-to-consider-when-choosing-a-new-technology/" title="Next article: Using ES6 arrow functions in production-ready apps" role="next">Top 5 things to consider when choosing a new technology &rarr;</a></div><div id="disqus_thread"></div><script> (function() { var d = document, s = d.createElement('script'); s.src = '//codesinz.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></footer></article><script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-32468134-4', 'auto'); ga('require', 'displayfeatures'); ga('send', 'pageview'); </script> <script type="text/javascript"> var _dcq = _dcq || []; var _dcs = _dcs || {}; _dcs.account = '9282313'; (function() { var dc = document.createElement('script'); dc.type = 'text/javascript'; dc.async = true; dc.src = '//tag.getdrip.com/9282313.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(dc, s); })(); </script> <script type="text/javascript">var switchTo5x=true;</script> <script type="text/javascript" src="//ws.sharethis.com/button/buttons.js"></script> <script type="text/javascript">stLight.options({publisher: "92204b4b-884e-4a7f-9337-a39d86c8b368", doNotHash: true, doNotCopy: false, hashAddressBar: true, shorten: false});</script>
